<div class="summary">
  <span class="availability" ng-class="highlight" ng-bind="availability"></span>
  <span class="status" ng-bind="status"></span>
  <a class="detail-toggle" ng-click="showdetails=!showdetails"> {{showdetails ? 'Hide' : 'Show'}} numbers
  </a>
</div>
<div class="details" ng-if="showdetails">
  <table>
    <thead>
    <tr>
      <th>Category</th>
      <th>Last Updated</th>
      <th>Total</th>
    </tr>
    </thead>
    <tbody>
    <tr>
      <td>Contractual Capacity</td>
      <td>N/A</td>
      <td ng-bind="capacity"></td>
    </tr>
    <tr>
      <td>Occupied</td>
      <td ng-bind="heartbeatreceived"></td>
      <td ng-bind="inuse">}</td>
    </tr>
    <tr>
      <td>Beds out of commission</td>
      <td ng-bind="heartbeatreceived"></td>
      <td ng-bind="ooc"></td>
    </tr>
    <tr ng-if="prebooking !== undefined">
      <td>Prebookings</td>
      <td ng-bind="prebookingreceived"></td>
      <td ng-bind="prebooking"></td>
    </tr>
    <tr ng-if="contingency !== undefined">
      <td>Contingency</td>
      <td ng-bind="prebookingreceived"></td>
      <td ng-bind="contingency"></td>
    </tr>
    <tr ng-if="expectedin !== undefined">
      <td>Expected incoming</td>
      <td ng-bind="cidreceiveddate"></td>
      <td ng-bind="expectedin.length"></td>
    </tr>
    <tr ng-if="unexpectedin !== undefined">
      <td>Unexpected incoming</td>
      <td ng-bind="cidreceiveddate"></td>
      <td ng-bind="unexpectedin"></td>
    </tr>
    <tr class="availability">
      <td>Availability</td>
      <td></td>
      <td ng-class="highlight" ng-bind="availability"></td>
    </tr>
    <tr ng-if="expectedout !== undefined">
      <td ng-click="showoutgoing=!showoutgoing">Scheduled outgoing
      <ul ng-if="showoutgoing">
        <li ng-repeat="individualscheduledout in scheduledout" >{{individualscheduledout.cid_id}}</li>
      </ul>
      </td>
      <td ng-bind="cidreceiveddate"></td>
      <td ng-bind="scheduledout.length"></td>
    </tr>
    </tbody>
  </table>
</div>
